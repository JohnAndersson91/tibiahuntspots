<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Tibia Hunt Spots</title>
<style>
  body { background:#1e1e1e; color:#f0f0f0; font-family:sans-serif; padding:20px; }
  table { width:100%; border-collapse: collapse; margin-top:20px; }
  th, td { border:1px solid #444; padding:8px; text-align:left; }
  th { cursor:pointer; user-select:none; }
  th .arrow { font-size:0.8em; margin-left:5px; color:#ffcc00; }
  #addSpotForm { margin-top:20px; display:flex; flex-direction:column; gap:5px; }
  input, button, select { padding:5px; border-radius:4px; border:none; }
  button { cursor:pointer; background:#555; color:#fff; }
  #loginDiv { position:absolute; top:10px; right:10px; font-size:0.8em; }
</style>
</head>
<body>

<h1>Tibia Hunt Spots</h1>

<!-- Login -->
<div id="loginDiv">
  <input type="password" id="password" placeholder="Password">
  <button onclick="checkPassword()">Login</button>
</div>

<!-- Section Selector -->
<select id="sectionSelector">
  <option value="All">All Classes</option>
  <option value="Knight">Knight</option>
  <option value="Paladin">Paladin</option>
  <option value="Mages">Mages</option>
  <option value="Monk">Monk</option>
  <option value="Duo">Duo</option>
</select>

<!-- Spots Table -->
<table>
  <thead>
    <tr>
      <th onclick="sortTable('spot')">Spot <span id="spotArrow"></span></th>
      <th onclick="sortTable('levelReq')">Level Req <span id="levelReqArrow"></span></th>
      <th onclick="sortTable('exp')">Raw Exp k/h <span id="expArrow"></span></th>
      <th onclick="sortTable('profit')">Profit k/h <span id="profitArrow"></span></th>
      <th onclick="sortTable('playerLevel')">Player Level <span id="playerLevelArrow"></span></th>
      <th onclick="sortTable('playerSkills')">Player Skills <span id="playerSkillsArrow"></span></th>
      <th onclick="sortTable('playerSkills')">Charms <span id="playerSkillsArrow"></span></th>
    </tr>
  </thead>
  <tbody id="spotsBody"></tbody>
  </tbody>
</table>

<!-- Add Spot Form -->
<div id="formDiv" style="display:none;">
  <form id="addSpotForm">
    <input type="text" id="spotName" placeholder="Spot Name" required>
    <select id="sectionSelect" required>
      <option value="" disabled selected>Select Class</option>
      <option value="Knight">Knight</option>
      <option value="Paladin">Paladin</option>
      <option value="Mages">Mages</option>
      <option value="Monk">Monk</option>
      <option value="Duo">Duo</option>
    </select>
    <input type="number" id="levelReq" placeholder="Level Req" required>
    <input type="number" id="exp" placeholder="Raw Exp k/h" required>
    <input type="number" id="profit" placeholder="Profit gold k/h" required>
    <input type="number" id="playerLevel" placeholder="Player Level" required>
    <input type="text" id="playerSkills" placeholder="Player Skills" required>
    <input type="text" id="charms" placeholder="Charms" required>
    <button type="submit">Add Spot</button>
  </form>
</div>

<script>
const PASSWORD = "willchange321"; // change this
let spots = [
    // static spots
  { spot: "Amazon camp", section: "Duo", levelReq: 8, exp: 12, profit: 51, playerLevel: 15, playerSkills: "d52 m4 + m11", charms: "No" },
  { spot: "Ancient Temple", section: "Knight", levelReq: 20, exp: 20, profit: 0, playerLevel: 98, playerSkills: "s91 m7", charms: "No"  },
  { spot: "Amazon camp", section: "Knight", levelReq: 8, exp: 60, profit: 171, playerLevel: 98, playerSkills: "s91 m7", charms: "No"  },
  { spot: "Shadowthorn", section: "Knight", levelReq: 12, exp: 65, profit: 120, playerLevel: 98, playerSkills: "s91 m7", charms: "No"  },
  { spot: "Banuta", section: "Knight", levelReq: 45, exp: 100, profit: -10, playerLevel: 98, playerSkills: "s91 m7", charms: "No"  },
  { spot: "Mount Sternum", section: "Knight", levelReq: 40, exp: 77, profit: 70, playerLevel: 98, playerSkills: "s91 m7", charms: "No"  },
  { spot: "Corym Mines(Stonerefiner)", section: "Knight", levelReq: 35, exp: 201, profit: 97, playerLevel: 99, playerSkills: "s91 m7", charms: "No"  },
  { spot: "Falcon Bastion", section: "Mages", levelReq: 500, exp: 6259, profit: 1260, playerLevel: 583, playerSkills: " m152", charms: "Yes"  },
  { spot: "Arena and Zoo Quarter", section: "Knight", levelReq: 70, exp: 225, profit: 66, playerLevel: 99, playerSkills: "s91 m7", charms: "No"  },
  { spot: "Feyrist(Weakened Frazzlemaw cave)", section: "Paladin", levelReq: 150, exp: 507, profit: 381, playerLevel: 191, playerSkills: "s113 m24", charms: "No"  },
  { spot: "Oramond Marshes", section: "Paladin", levelReq: 115, exp: 594, profit: 139, playerLevel: 191, playerSkills: "s113 m24", charms: "No"  },
  { spot: "Oramond Minotaur Camp", section: "Paladin", levelReq: 180, exp: 547, profit: 178, playerLevel: 192, playerSkills: "s113 m24", charms: "No"  },
];
let currentSection = 'All';
let sortConfig = { key: null, asc: true };

function renderTable() {
  const tbody = document.getElementById("spotsBody");
  tbody.innerHTML = "";
  spots.forEach(s => {
    if(currentSection !== 'All' && s.section !== currentSection) return;
    const tr = document.createElement("tr");
    tr.innerHTML = `
      <td>${s.spot}</td>
      <td>${s.levelReq}</td>
      <td>${s.exp}</td>
      <td>${s.profit}</td>
      <td>${s.playerLevel}</td>
      <td>${s.playerSkills}</td>
      <td>${s.charms}</td>
    `;
    tbody.appendChild(tr);
  });
}

document.getElementById("sectionSelector").addEventListener("change", e=>{
  currentSection = e.target.value;
  renderTable();
});

document.getElementById("addSpotForm").addEventListener("submit", e=>{
  e.preventDefault();
  const newSpot = {
    spot: document.getElementById("spotName").value,
    section: document.getElementById("sectionSelect").value,
    levelReq: Number(document.getElementById("levelReq").value),
    exp: Number(document.getElementById("exp").value),
    profit: Number(document.getElementById("profit").value),
    playerLevel: Number(document.getElementById("playerLevel").value),
    playerSkills: document.getElementById("playerSkills").value,
    charms: document.getElementById("charms").value,
  };
  spots.push(newSpot);
  renderTable();
  e.target.reset();
});

function checkPassword() {
  if(document.getElementById("password").value === PASSWORD){
    document.getElementById("formDiv").style.display = "block";
    document.getElementById("loginDiv").style.display = "none";
  } else {
    alert("Wrong password");
  }
}

function sortTable(key) {
  if (sortConfig.key === key) {
    sortConfig.asc = !sortConfig.asc;
  } else {
    sortConfig.key = key;
    sortConfig.asc = true;
  }
  spots.sort((a, b) => {
    if(a[key] < b[key]) return sortConfig.asc ? -1 : 1;
    if(a[key] > b[key]) return sortConfig.asc ? 1 : -1;
    return 0;
  });
  document.querySelectorAll("th span").forEach(span => span.textContent = "");
  document.getElementById(key + "Arrow").textContent = sortConfig.asc ? "▲" : "▼";
  renderTable();
}

renderTable();
</script>

</body>
</html>
